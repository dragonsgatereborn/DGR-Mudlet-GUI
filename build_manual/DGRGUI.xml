<?xml version='1.0' encoding='utf-8'?>
<MudletPackage version="1.001"><ScriptPackage><ScriptGroup isActive="yes" isFolder="yes"><name>DGRGUI</name><script /><packageName>DGRGUI</packageName><eventHandlerList /><Script isActive="yes" isFolder="no"><name>Code</name><script>DGRGUI = DGRGUI or {}

local function safeDestroy(container)
  if not container then return end
  if container.hide then container:hide() end
  if container.close then container:close() end
  if container.destroy then container:destroy() end
end

function DGRGUI.start()
  safeDestroy(DGRGUI.mainContainer)

  DGRGUI.mainContainer = Geyser.Container:new({
    name = "DGRGUI_Main",
    x = 300,
    y = 0,
    width = "-600",
    height = "100%",
  })

  DGRGUI.mainLabel = Geyser.Label:new({
    name = "DGRGUI_MainLabel",
    x = 0,
    y = 0,
    width = "100%",
    height = "100%",
  }, DGRGUI.mainContainer)

  DGRGUI.mainLabel:setStyleSheet([[background-color: rgba(0,0,0,20%); border: 1px solid #3a3a3a;]])
end

DGRGUI.start()
</script><command /><packageName>DGRGUI</packageName><eventHandlerList /></Script><Script isActive="yes" isFolder="no"><name>README</name><script>--[[
DGR Mudlet GUI

Base package with EMCO included (no GUI scripts yet).

Author: WizzyDizzy
Contributor: WizzyDizzy

Install
- lua installPackage("https://github.com/dragonsgatereborn/DGR-Mudlet-GUI/releases/latest/download/DGRGUI.mpackage")

Commands
- gui update
- gui restart
- gui version

Layout
- Main display area is centered with 300px margins on left/right

Notes
- Do not add or change anything inside DGRGUI package folders.
- Updates overwrite package contents and remove local edits.

EMCO
- local emco = require("DGRGUI.emco")
--]]
</script><command /><packageName>DGRGUI</packageName><eventHandlerList /></Script></ScriptGroup></ScriptPackage><AliasPackage><AliasGroup isActive="yes" isFolder="yes"><name>DGRGUI</name><script /><packageName>DGRGUI</packageName><Alias isActive="yes" isFolder="no"><name>gui update</name><script>local currentVersion = "0.1.2"
local repoUrl = "https://github.com/dragonsgatereborn/DGR-Mudlet-GUI"
local packageUrl = repoUrl .. "/releases/latest/download/DGRGUI.mpackage"

cecho("&lt;green&gt;DGR GUI: &lt;reset&gt;Current version: " .. currentVersion .. "\n")
cecho("&lt;green&gt;DGR GUI: &lt;reset&gt;Updating from " .. repoUrl .. "\n")

uninstallPackage("DGRGUI")
installPackage(packageUrl)

cecho("&lt;green&gt;DGR GUI: &lt;reset&gt;Update complete! Package installed from:\n")
cecho("&lt;green&gt;DGR GUI: &lt;reset&gt;" .. packageUrl .. "\n")
</script><command /><packageName>DGRGUI</packageName><regex>^gui update$</regex></Alias><Alias isActive="yes" isFolder="no"><name>gui restart</name><script>cecho("&lt;green&gt;DGR GUI: &lt;reset&gt;Restarting GUI...\n")
if DGRGUI and DGRGUI.start then
  DGRGUI.start()
  cecho("&lt;green&gt;DGR GUI: &lt;reset&gt;Restart complete.\n")
else
  cecho("&lt;green&gt;DGR GUI: &lt;reset&gt;No start() found yet. Nothing to restart.\n")
end
</script><command /><packageName>DGRGUI</packageName><regex>^gui restart$</regex></Alias><Alias isActive="yes" isFolder="no"><name>gui version</name><script>local version = "0.1.2"
local repo = "https://github.com/dragonsgatereborn/DGR-Mudlet-GUI"

cecho("&lt;green&gt;DGR GUI\n")
cecho("&lt;green&gt;Version: &lt;yellow&gt;" .. version .. "\n")
cecho("&lt;green&gt;Repository: &lt;cyan&gt;dragonsgatereborn/DGR-Mudlet-GUI\n")
cecho("&lt;green&gt;GitHub: &lt;cyan&gt;" .. repo .. "\n")
</script><command /><packageName>DGRGUI</packageName><regex>^gui version$</regex></Alias></AliasGroup></AliasPackage><TriggerPackage><TriggerGroup isActive="yes" isFolder="yes"><name>DGRGUI</name><script /><packageName /></TriggerGroup></TriggerPackage></MudletPackage>